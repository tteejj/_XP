# Test script to verify TuiBuffer constructors
Write-Host "Testing TuiBuffer constructors..." -ForegroundColor Cyan

# Load only the base classes file
. .\AllBaseClasses.ps1

try {
    # Test 2-parameter constructor
    Write-Host "`nTesting 2-parameter constructor..." -ForegroundColor Yellow
    $buffer1 = [TuiBuffer]::new(10, 5)
    Write-Host "Success! Created buffer: $($buffer1.Name) ($($buffer1.Width)x$($buffer1.Height))" -ForegroundColor Green
}
catch {
    Write-Host "Failed: $_" -ForegroundColor Red
}

try {
    # Test 3-parameter constructor
    Write-Host "`nTesting 3-parameter constructor..." -ForegroundColor Yellow
    $buffer2 = [TuiBuffer]::new(20, 10, "TestBuffer")
    Write-Host "Success! Created buffer: $($buffer2.Name) ($($buffer2.Width)x$($buffer2.Height))" -ForegroundColor Green
}
catch {
    Write-Host "Failed: $_" -ForegroundColor Red
}

# Show available constructors
Write-Host "`nAvailable TuiBuffer constructors:" -ForegroundColor Yellow
[TuiBuffer].GetConstructors() | ForEach-Object {
    $params = ($_.GetParameters() | ForEach-Object { "$($_.ParameterType.Name) $($_.Name)" }) -join ", "
    Write-Host "  TuiBuffer($params)" -ForegroundColor Cyan
}
